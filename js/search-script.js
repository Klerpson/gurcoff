!function(){"use strict";var t=function(t){return e.template.replace(e.pattern,(function(n,r){var i=e.middleware(r,t[r],e.template);return void 0!==i?i:t[r]||n}))},e={pattern:/\{(.*?)\}/g,template:"",middleware:function(){}},n=new function(){this.matches=function(t,e){return function(t,e){var n=e.length,r=t.length;if(n<r)return!1;if(r===n)return t===e;t:for(var i=0,o=0;i<r;i++){for(var u=t.charCodeAt(i);o<n;)if(e.charCodeAt(o++)===u)continue t;return!1}return!0}(e.toLowerCase(),t.toLowerCase())}},r=new function(){this.matches=function(t,e){return!!t&&(t=t.trim().toLowerCase(),(e=e.trim().toLowerCase()).split(" ").filter((function(e){return 0<=t.indexOf(e)})).length===e.split(" ").length)}},i=function(t){return c(t)?s(t):function(t){return Boolean(t)&&"[object Array]"===Object.prototype.toString.call(t)}(t)?function(t){var e=[];u.length=0;for(var n=0,r=t.length;n<r;n++)c(t[n])&&e.push(s(t[n]));return e}(t):void 0};function o(){return 0}var u=[],a={};function c(t){return Boolean(t)&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return u.push(t),u}function l(t,e,n,r){for(var i in t)if(!f(t[i],r.exclude)&&n.matches(t[i],e))return t}function f(t,e){for(var n=!1,r=0,i=(e=e||[]).length;r<i;r++){var o=e[r];!n&&new RegExp(t).test(o)&&(n=!0)}return n}a.fuzzy=!1,a.limit=10,a.searchStrategy=a.fuzzy?n:r,a.sort=o;var d,p,h,v,m;function w(t){i(t),p.searchInput.addEventListener("keyup",(function(t){!function(t){return-1===[13,16,20,37,38,39,40,91].indexOf(t)}(t.which)||(y(),z(t.target.value))}))}function y(){p.resultsContainer.innerHTML=""}function g(t){p.resultsContainer.innerHTML+=t}function z(e){!function(t){return t&&0<t.length}(e)||(y(),function(e,n){var r=e.length;if(0===r)return g(p.noResultsText);for(var i=0;i<r;i++)e[i].query=n,g(t(e[i]))}(function(t){return t?function(t,e,n,r){for(var i=[],o=0;o<t.length&&i.length<r.limit;o++){var u=l(t[o],e,n,r);u&&i.push(u)}return i}(u,t,a.searchStrategy,a).sort(a.sort):[]}(e),e))}function S(t){throw new Error("SimpleJekyllSearch --- "+t)}d=window,p={searchInput:null,resultsContainer:null,json:[],success:Function.prototype,searchResultTemplate:'<div><a href="{url}"><h1>{title}</h1></a><span>{category}</span></div>',templateMiddleware:Function.prototype,sortMiddleware:function(){return 0},noResultsText:"Sin resultados. Busca con otra palabra",limit:10,fuzzy:!1,exclude:[]},v=function t(e){if(!function(t){return t&&void 0!==t.required&&t.required instanceof Array}(e))throw new Error("-- OptionsValidator: required options missing");if(!(this instanceof t))return new t(e);var n=e.required;this.getRequiredOptions=function(){return n},this.validate=function(t){var e=[];return n.forEach((function(n){void 0===t[n]&&e.push(n)})),e}}({required:h=["searchInput","resultsContainer","json"]}),m=function(t){return 0<v.validate(t).length&&S("You must specify the following required options: "+h),function(t){e.pattern=t.pattern||e.pattern,e.template=t.template||e.template,"function"==typeof t.middleware&&(e.middleware=t.middleware)}({template:(p=function(t,e){var n={};for(var r in t)n[r]=t[r],void 0!==e[r]&&(n[r]=e[r]);return n}(p,t)).searchResultTemplate,middleware:p.templateMiddleware}),function(t){(a=t||{}).fuzzy=t.fuzzy||!1,a.limit=t.limit||10,a.searchStrategy=t.fuzzy?n:r,a.sort=t.sort||o}({fuzzy:p.fuzzy,limit:p.limit,sort:p.sortMiddleware}),(function(t){try{return!!(t instanceof Object&&JSON.parse(JSON.stringify(t)))}catch(t){return!1}}(p.json)?w:function(t){!function(t,e){var n=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("GET",t,!0),n.onreadystatechange=function(t,e){return function(){if(4===t.readyState&&200===t.status)try{e(null,JSON.parse(t.responseText))}catch(t){e(t,null)}}}(n,e),n.send()}(t,(function(e,n){e&&S("failed to get JSON ("+t+")"),w(n)}))})(p.json),{search:z}},d.SimpleJekyllSearch=function(t){var e=m(t);return t.success.call(e),e}}();